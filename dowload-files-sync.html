<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible"content="IE=edge"><meta name="viewport"content="width=device-width,initial-scale=1.0"><title>Studev code | Download files synchronization</title><style>#allLink{width:auto;overflow:auto;border:.25em solid red;}#download{display:flex;justify-content:center;flex-direction:column;}#download>button,#download label{font-size:1.5rem;}#download>input[type="checkbox"]{width:1rem;}#download>table{border:.25rem black solid;}</style></head><body><div id="download"><textarea id="allLink"rows="10"placeholder="input links"></textarea><div><input type="checkbox" id="autoName"><label for="autoName">change files're name?</label></div><button>download</button><div id="result"></div></div><script>function saveFile(url, filename){return new Promise(function(resolve,reject){var xhr=new XMLHttpRequest();xhr.responseType='blob';xhr.onload=function(){resolve(xhr);};xhr.onerror=reject;xhr.open('GET',url);xhr.send();}).then(function(xhr){var a=document.createElement('a');a.href=window.URL.createObjectURL(xhr.response);a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();return xhr;});}const cyrb53=(str,seed=0)=>{let h1=0xdeadbeef^seed,h2=0x41c6ce57^seed;for(let i=0,ch;i<str.length;i++){ch=str.charCodeAt(i);h1=Math.imul(h1^ch,2654435761);h2=Math.imul(h2^ch,1597334677);}h1=Math.imul(h1^(h1>>>16),2246822507);h1^=Math.imul(h2^(h2>>>13),3266489909);h2=Math.imul(h2^(h2>>>16),2246822507);h2^=Math.imul(h1^(h1>>>13),3266489909);return 4294967296*(2097151&h2)+(h1>>>0);};const checkbox=document.querySelector('#download > div:nth-child(2) > input[type=checkbox]');const btn=document.querySelector('#download > button');const result = document.getElementById('result');const link = document.getElementById('allLink');btn.addEventListener('click', async (e) => {let data = link.value?.split('\n');let filesNamed = '<table border="1">';if(data?.length) {if (confirm(`do you want to download ${data.length} data?`))for (let e of data) {let fileName = checkbox.checked? `${cyrb53(e.substring(e.lastIndexOf('/') + 1), Date.now())}.jpg`: e.substring(e.lastIndexOf('/') + 1);await saveFile(e, fileName).then(e => filesNamed += `<tr><td>${fileName}</td></tr>`);}result.innerHTML=filesNamed+'</table>';}else result.innerHTML=undefined;});</script></body></html>